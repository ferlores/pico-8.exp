pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- pang
-- by ferlores

-- libraries
#include ../utils/register_callbacks.lua
#include ../utils/timers.lua
#include ../utils/physics.lua
#include ../utils/debug.lua

-- game modules
#include levels.lua

-- menus
register('init', 'main_menu', function ()
    players = {}
end)


register('draw', 'main_menu', function()
    print_centered('pang', 50)
    print_centered('game over', 60)
    print_centered('press ❎ to start', 70)
end)

function print_centered(str, y)
    print(str, screen_max_x/2 - (#str * 2), y)
end

register('update', 'main_menu', function()
    if(btnp(❎, 0)) then
        add_player(screen_max_x/2 - player_width)
        switch_mode('level')
    end
end)

-- game

register('init', function ()
    switch_mode('main_menu')
end)


-- utils

function speed(pps)
    return pps/30
end

__gfx__
00000000000000000555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000760066007600660
00000000055555500057d50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007e87788670077006
00000000005dd5000057d500055555500000000000000000000000000000000000000000000000000000000000000000000000000000000068ae888d6000000d
000000000557d550005dd5005557d5550000000000000000000000000000000000000000000000000000000000000000000000000000000068ee822660000006
00000000057ddd50005dd5005d7dddd500000000000000000000000000000000000000000000000000000000000000000000000000000000d8822026d0000006
0000000005dddd50005dd5005dddddd5000000000000000000000000000000000000000000000000000000000000000000000000000000000620026006000060
00000000945dd594945dd594945dd594000000000000000000000000000000000000000000000000000000000000000000000000000000000062260000600600
00000000445555444455554444555544000000000000000000000000000000000000000000000000000000000000000000000000000000000006600000066000
00400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000770077007700770
04440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007887788770077007
406040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000078e8888770000007
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007888882d7000000d
06000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007888882d7000000d
0060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000068882d0060000d0
000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000682d0000600d00
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006d0000006d000
06000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000760066007600660
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007e87788670077006
000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000068ae888d6000000d
006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000068ee822660000006
0600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d8822026d0000006
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000620026006000060
00060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000062260000600600
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006600000066000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777777777700000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000766d766d766d00000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000766d766d766d00000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555500000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777700000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006d7600000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006d7600000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555500000000000000000000
009999000a9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099a9990a99900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99a99999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99999999099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99999949000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09994490000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000008750097500a7500b7500c7500e75011750157501a7501f74023730247202e70009000080000800025700080000000000000000000000000000000000000000000000000000000000000000000000000
